@startuml
class MasterMind
class PlayMasterMind {
 - continueDialog : InitYesNoDialog
 - game : InitGame
}
class InitYesNoDialog {
 - question : String
 - answer : String
 
 - isNegative() : boolean
 + read() : void
 + isAffirmative() : boolean
}

class InitGame {
 + play() : void
}
class InitBoard {
 - TITLE : "MASTERMIND"
 - ALLOWED_COLORS : ["r", "g", "b", "y", "c", "m"]
 - COMBINATIONS_LENGTH : 4
 - MAXIMUN_ATTEMPTS : 10
 - attempts : Number
 
 + showTitle() : void
 + showAttempts() : void
 + getAttempts() : attempts
 + getCombinationsLength() : COMBINATIONS_LENGTH
 + getMaximunAttempts() : MAXIMUN_ATTEMPTS
 + increaseAttemptsByOne() : void
 + showWinningMessage() : void
 + showLosingMessage() : void
 + getAllowedColors() : ALLOWED_COLORS
 
}

class InitSecretCombinationCreator {
 - secretCombination : String
 - WELL_POSITIONED : "b"
 - POORLY_POSITIONED : "W"
 - EMPTY : "e"
 - isCorrectCombination : false
 - resultsOfComparingCombinations : String[]
 
 - getWellPositioned() : WELL_POSITIONED
 - getPoorlyPositioned() : POORLY_POSITIONED
 - getEmpty() : EMPTY
 - addToSecretCombination(color) : void
 - isRepeatedColor(color, secretCombination) : boolean
 - isWellPositioned(proposedColor, secretColor) : boolean
 - isPoorlyPositioned(secretCombination, colorToVerify) : boolean
 - addResultsOfComparingCombinations(comparisonResult) : void
 - setIsCorrectCombination(value) : void
 - setCombinationWithoutRepeatedColors(Number combinationsLength, String[] allowedColors) : void
 + getSecretCombination() : secretCombination
 + compare(String[] combination) : void
 + verifyCorrectCombination() : boolean
 + isCorrectCombination() : correctCombination
 + getResultsOfComparingCombination() : String[][]
 + showComparisonResult() : void
}
class InitDecipher {
 - proposedCombinations : String[]
 
 - isValidCombination(String proposedCombination, Board board) : boolean
 - areValidColors(String proposedCombination, String[] allowedColors) : boolean
 - isAllowed(String color, String[] allowedColors) : boolean
 - thereAreRepeatedColors(String proposedCombination) : boolean
 - addProposedCombination(combination) : void
 + proposeAValidCombination(Board board) : void
 + getProposedCombinations() : String[]
}

MasterMind *-- PlayMasterMind

PlayMasterMind --> InitYesNoDialog
PlayMasterMind --> InitGame

InitGame *-- InitBoard
InitGame *-- InitSecretCombinationCreator
InitGame *-- InitDecipher

note left of InitSecretCombinationCreator::compare
 Check
end note
note left of InitSecretCombinationCreator::getResultsOfComparingCombination
 Check
end note
note left of InitSecretCombinationCreator::verifyCorrectCombination
 Check
end note
note left of InitDecipher::getProposedCombinations
 Cambiar por getProposedCombinationCurrently(attempt) : String
end note
note left of InitSecretCombinationCreator::correctCombination
 Cambiar por "es decifrada"
end note
@enduml